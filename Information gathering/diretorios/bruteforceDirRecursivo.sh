#!/bin/bash

for item in $(cat diretorios.txt); do
    status=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item/")
    if [ "$status" == "200" ]; then
        echo "-> $1/$item/"

        for item2 in $(cat diretorios.txt); do
            status2=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item/$item2/")
            if [ "$status2" == "200" ]; then
                echo "-> $1/$item/$item2/"

                for item3 in $(cat diretorios.txt); do
                    status3=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item/$item2/$item3/")
                    if [ "$status3" == "200" ]; then
                        echo "-> $1/$item/$item2/$item3/"
                    else
                        for ext in $(cat extensoes.txt); do
                            status4=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item/$item2/$item3.$ext")
                            if [ "$status4" == "200" ]; then
                                echo "-> $1/$item/$item2/$item3.$ext"
                            fi
                        done
                    fi
                done
            else
                for ext in $(cat extensoes.txt); do
                    status3=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item/$item2.$ext")
                    if [ "$status3" == "200" ]; then
                        echo "-> $1/$item/$item2.$ext"
                    fi
                done
            fi
        done
    else
        for ext in $(cat extensoes.txt); do
            status2=$(curl -H "User-Agent: Firefox" -s -o /dev/null -w "%{http_code}" "$1/$item.$ext")
            if [ "$status2" == "200" ]; then
                echo "-> $1/$item.$ext"
            fi
        done
    fi
done
