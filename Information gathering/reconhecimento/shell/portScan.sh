#!/bin/bash
#Precisei entrar no sudo para usar o socket
if ["$1" == ""]
then 
echo "para executar o $0 precisa passar uma rede: $0 192.168.0 "
elif ["$2" == ""]
then
echo "para executar o $0 precisa passar a porta: $0 192.168.0 80"
else
for host in {1..10}; do
# hping3 -S -p $2 $1.host; tras muita coisa
#hping3 -S -p $2 $1.host 2 > /dev/null ; envia o log stderr(2) para null
#hping3 -c 1 -S -p $2 $1.$host 2> /dev/null | grep "flags=SA"; limita o resultado apenas os que responderam
#hping3 -c 1 -S -p $2 $1.$host 2> /dev/null | grep "flags=SA" | cut -d " " -f 2;  retornou ip=10.0.2.4
hping3 -c 1 -S -p $2 $1.$host 2> /dev/null | grep "flags=SA" | cut -d " " -f 2 | cut -d "=" -f 2;
done
fi
